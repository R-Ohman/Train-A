<div class="container">

  @if (visible()) {
    <div class="head">
      <span class="car-name">Carriage {{ carriage().name }}</span>
      <span class="available-number">{{ availableSeatsNumber }} seats</span>
      <button
          mat-raised-button
          class="update-button"
          (click)="onUpdateCarriage(carriage())"
        >
          <mat-icon id="update" aria-hidden="false" aria-label="Update route"
            >edit_square</mat-icon
          >
          <label for="edit">Update</label>
        </button>
    </div>
  }
  <div class="schema">
    @for (seat of seats(); track seat.number; let i = $index) {
      <app-car-seat
      [seat]="seat"
      [direction]="getSeatDirection(seat.number)"
      (select)="toggleSeatState($event)">
    </app-car-seat>

    @if (isLastInRow(i)) {
      <br />
    }
    @if (isCorridor(i)) {
      <div class="separator {{ isHorizontal() ? '' : 'inline' }}"></div>
    }
  }
</div>

</div>

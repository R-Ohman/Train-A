<div class="list">
  @if (store.schedule().length) {
    <div class="action-buttons">
      <button mat-button (click)="accordion().openAll()">Expand All</button>
      <button mat-button (click)="accordion().closeAll()">Collapse All</button>
    </div>
  }
  @if (store.loading()) {
    <app-spinner [loadText]="'Loading the rides...'"></app-spinner>
  } @else {
    <mat-accordion multi>
      @for (ride of store.schedule(); track $index) {
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Ride {{ ride.rideId }} </mat-panel-title>
          </mat-expansion-panel-header>

          <app-ride-card
            [rideId]="ride.rideId"
            [stations]="store.stations()"
            [segments]="ride.segments"
          />
        </mat-expansion-panel>
      }
    </mat-accordion>
  }
</div>
